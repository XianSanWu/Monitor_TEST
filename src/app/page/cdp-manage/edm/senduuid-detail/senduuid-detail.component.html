<loading-indicator></loading-indicator>

<div class="pageTitle">
  <h2>
    <i class="bi bi-journals"></i>
    EDM æ„›é…·SendUuid åˆ—è¡¨ ({{sendUuid}})
  </h2>
</div>

<!-- è‡ªè¨‚è¡¨å–® -->
<div [formGroup]="validateForm">
  <div class="row">
    <basic-input
      title="ä¾†æº"
      class="col-2"
      [form]="validateForm"
      [disabled]="true"
      [isHidden]="true"
      ctlName="channel"
      placeholder="è«‹è¼¸å…¥"
      [maxlength]="30"
    ></basic-input>
    <basic-input
      title="æ„›é…· SendUuid"
      class="col-2"
      [form]="validateForm"
      [disabled]="true"
      [isHidden]="true"
      ctlName="sendUuid"
      placeholder="è«‹è¼¸å…¥"
      [maxlength]="100"
    ></basic-input>
  </div>
</div>

<!-- ag-gridè¡¨å–® -->
<collapsible-section title="ðŸ“‹ EDM æ„›é…·SendUuid æŸ¥è©¢åˆ—è¡¨" tooltipText="é»žæ“Šæ¬„ä½å…©ä¸‹ï¼Œå¯ä»¥è¤‡è£½è©²æ¬„ä½è³‡æ–™">
  <div class="row">
    <ag-grid-angular
      #agGrid
      style="width: 100%; height: 500px"
      class="ag-theme-alpine"
      [rowData]="rowData"
      [columnDefs]="columnDefs"
      [defaultColDef]="defaultColDef"
      [pagination]="false"
      [animateRows]="true"
      (gridReady)="onGridReady($event)"
      (sortChanged)="onSortChanged()"
      (filterChanged)="onFilterChanged()"
      (cellDoubleClicked)="onCellDoubleClicked($event)"
    >
    </ag-grid-angular>

    <div
      style="margin-top: 10px"
      class="d-flex justify-content-center align-items-center gap-2"
    >
      <button
        class="btn btn-primary"
        (click)="onPageChange(1)"
        [disabled]="currentPage === 1"
      >
        First Page
      </button>
      <button
        class="btn btn-secondary"
        (click)="onPageChange(currentPage - 1)"
        [disabled]="currentPage === 1"
      >
        Previous
      </button>
      <span class="mx-2">Page {{ currentPage }} / {{ totalPages }}</span>
      <button
        class="btn btn-secondary"
        (click)="onPageChange(currentPage + 1)"
        [disabled]="currentPage === totalPages"
      >
        Next
      </button>
      <button
        class="btn btn-primary"
        (click)="onPageChange(totalPages)"
        [disabled]="currentPage === totalPages"
      >
        Last Page
      </button>
    </div>
  </div>
</collapsible-section>
