<loading-indicator></loading-indicator>

<div class="pageTitle">
  <h2>
    <i class="bi bi-list-task"></i>
    Á®ΩÊ†∏ËªåË∑° Êü•Ë©¢
  </h2>
</div>

<collapsible-section [id]="'AuditMain'" title="üîç Êü•Ë©¢Ê¢ù‰ª∂" tooltipText="Ë´ãËº∏ÂÖ•Â∞çÊáâÊ¢ù‰ª∂Êü•Ë©¢„ÄÇ(Enter ÂèØÁõ¥Êé•Êü•Ë©¢)">
  <!-- Ëá™Ë®ÇË°®ÂñÆ -->
  <div [formGroup]="validateForm">
    <div class="row">
      <date-range class="col-lg-5 col-sm-12" titleStart="Ëµ∑Êó•" titleEnd="ËøÑÊó•" [form]="validateForm"></date-range>
    </div>
    <div class="row">
      <search-multiselect title="‰æù‰∫∫Âì°Êü•Ë©¢" [form]="validateForm" ctlName="userName" placeholder="Ë´ãËº∏ÂÖ•Êî∂Â∞ã‰∫∫Âì°"
        [options]="userNameList" class="col-lg-5 col-sm-12">
      </search-multiselect>
      <search-multiselect title="‰æùÂäüËÉΩÊü•Ë©¢" [form]="validateForm" ctlName="auditName" placeholder="Ë´ãËº∏ÂÖ•Êî∂Â∞ãÂäüËÉΩ"
        [options]="auditNameList" class="col-lg-5 col-sm-12">
      </search-multiselect>
      <div class="col-2 d-flex align-items-center">
        <button [disabled]="validateForm.invalid" (click)="Search()" class="btn btn-primary" type="button">
          <i class="bi bi-search"></i> ÊêúÂ∞ã
        </button>
      </div>
    </div>

  </div>
</collapsible-section>

<!-- ag-gridË°®ÂñÆ -->
<collapsible-section [id]="'Audit_Main'" title="üìã Á®ΩÊ†∏ËªåË∑° Êü•Ë©¢ÂàóË°®" tooltipText="ÈªûÊìäÊ¨Ñ‰ΩçÂÖ©‰∏ãÔºåÂèØ‰ª•Ë§áË£ΩË©≤Ê¨Ñ‰ΩçË≥áÊñôÔºåÂñÆÊìäÂèØË∑≥ËΩâË∂ÖÈÄ£ÁµêÔºàËã•ÁÇ∫Á∂≤ÂùÄÔºâ">
  <div class="row">
    <ag-grid-angular #agGrid style="width: 100%; height: 500px" class="ag-theme-alpine" [rowData]="rowData"
      [columnDefs]="columnDefs" [defaultColDef]="defaultColDef" [pagination]="false" [animateRows]="true"
      (gridReady)="onGridReady($event)" (sortChanged)="onSortChanged()" (filterChanged)="onFilterChanged()"
      (cellDoubleClicked)="onCellDoubleClicked($event)">
    </ag-grid-angular>

    <div style="margin-top: 10px" class="d-flex justify-content-center align-items-center gap-2">
      <button class="btn btn-primary" (click)="onPageChange(1)" [disabled]="currentPage === 1">
        First Page
      </button>
      <button class="btn btn-secondary" (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">
        Previous
      </button>
      <span class="mx-2">Page {{ currentPage }} / {{ totalPages }}</span>
      <button class="btn btn-secondary" (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages">
        Next
      </button>
      <button class="btn btn-primary" (click)="onPageChange(totalPages)" [disabled]="currentPage === totalPages">
        Last Page
      </button>
    </div>
  </div>
</collapsible-section>