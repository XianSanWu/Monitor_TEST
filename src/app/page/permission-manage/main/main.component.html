<loading-indicator></loading-indicator>

<div class="pageTitle">
  <h2>
    <i class="bi bi-list-task"></i>
    æ¬Šé™ç®¡ç†
  </h2>
</div>
<div class="d-flex justify-content-end align-items-center mb-4 w-100">
  <div class="d-flex gap-2">
    <button [attr.data-action]="AuditNameEnum.Permission.Btn_Setting" class="btn btn-primary" (click)="onSettings()">
      <i class="bi bi-pencil-square"></i> {{AuditNameEnum.Permission.Btn_Setting}}
    </button>
    <button [attr.data-action]="AuditNameEnum.Permission.Btn_Main_Create" class="btn btn-success" (click)="onDetail()">
      <i class="bi bi-plus-circle"></i> {{AuditNameEnum.Permission.Btn_Main_Create}}
    </button>
  </div>
</div>

<collapsible-section [id]="'PermissionFunction'" title="ğŸ”‘ æ¬Šé™åŠŸèƒ½">
  <div class="row">
    <dropdown title="æŸ¥çœ‹é¡å‹" [form]="validateForm" ctlName="isUse" [selectList]="selectList" class="col-3"
      (valueChange)="onValueChange($event)"></dropdown>
  </div>
</collapsible-section>

<collapsible-section [id]="'PermissionFunction'" title="ğŸ› ï¸ å¸³è™Ÿç®¡ç†" tooltipText="é»æ“Šæ¬„ä½å…©ä¸‹ï¼Œå¯ä»¥è¤‡è£½è©²æ¬„ä½è³‡æ–™ï¼Œå–®æ“Šå¯è·³è½‰è¶…é€£çµï¼ˆè‹¥ç‚ºç¶²å€æˆ–æŒ‰éˆ•ï¼‰">
  <div class="row">
    <ag-grid-angular #agGrid style="width: 100%; height: 500px" class="ag-theme-alpine" [rowData]="rowData"
      [columnDefs]="columnDefs" [defaultColDef]="defaultColDef" [pagination]="false" [animateRows]="true"
      [context]="{ componentParent: this }" (gridReady)="onGridReady($event)" (sortChanged)="onSortChanged()"
      (filterChanged)="onFilterChanged()" (cellDoubleClicked)="onCellDoubleClicked($event)">
    </ag-grid-angular>

    <div style="margin-top: 10px" class="d-flex justify-content-center align-items-center gap-2">
      <button class="btn btn-primary" (click)="onPageChange(1)" [disabled]="currentPage === 1">
        First Page
      </button>
      <button class="btn btn-secondary" (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">
        Previous
      </button>
      <span class="mx-2">Page {{ currentPage }} / {{ totalPages }}</span>
      <button class="btn btn-secondary" (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === totalPages">
        Next
      </button>
      <button class="btn btn-primary" (click)="onPageChange(totalPages)" [disabled]="currentPage === totalPages">
        Last Page
      </button>
    </div>
  </div>
</collapsible-section>