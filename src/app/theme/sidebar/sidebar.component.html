<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
    #sidenav
    [mode]="!isSmallScreen ? 'side' : 'over'"
    [opened]="opened"
    class="sidenav"
  >
    <!-- <div class="sidebar-header">
      <h4 class="sidebar-title">監控系統</h4>
    </div> -->

    <mat-nav-list>
      <ng-container *ngFor="let item of menuItems">
        <a
          mat-list-item
          [routerLink]="item.link"
          *ngIf="item.children?.length === 0"
          class="menu-item"
          (click)="onMenuItemClick()"
        >
          <i class="bi" [ngClass]="'bi-' + item.icon"></i>
          <span>{{ item.title }}</span>
        </a>

        <mat-expansion-panel *ngIf="(item.children?.length || 0) > 0">
          <mat-expansion-panel-header class="expansion-header">
            <i class="bi" [ngClass]="'bi-' + item.icon"></i>
            <span>{{ item.title }}</span>
          </mat-expansion-panel-header>
          <mat-nav-list>
            <a
              mat-list-item
              *ngFor="let child of item.children"
              [routerLink]="child.link"
              class="submenu-item"
              (click)="onMenuItemClick()"
            >
              <i class="bi" [ngClass]="'bi-' + child.icon"></i>
              <span>{{ child.title }}</span>
            </a>
          </mat-nav-list>
        </mat-expansion-panel>
      </ng-container>
    </mat-nav-list>
  </mat-sidenav>
</mat-sidenav-container>
